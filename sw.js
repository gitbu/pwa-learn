var games = [
	{
		slug: 'lost-in-cyberspace',
		name: 'Lost in Cyberspace',
		author: 'Zosia and Bartek',
		twitter: 'bartaz',
		website: '',
		github: 'github.com/bartaz/lost-in-cyberspace'
	},
	{
		slug: 'vernissage',
		name: 'Vernissage',
		author: 'Platane',
		twitter: 'platane_',
		website: 'github.com/Platane',
		github: 'github.com/Platane/js13k-2017'
	},
	{
		slug: 'coconutty',
		name: 'Coconutty',
		author: 'Mary Knize',
		twitter: 'captainpainway',
		website: 'maryknize.com',
		github: 'github.com/captainpainway/coconutty'
	},
	{
		slug: 'lost-pacman',
		name: 'Lost Pacman',
		author: 'MarcGuinea',
		twitter: 'MarcGuineaCasas',
		website: 'marcguinea.com',
		github: 'github.com/mguinea/lost-pacman'
	},
	{
		slug: 'polyhedron-runner',
		name: 'Polyhedron Runner',
		author: 'Alex Swan',
		twitter: 'BoldBigflank',
		website: 'bold-it.com',
		github: 'github.com/BoldBigflank/js13k-polyhedron'
	},
	{
		slug: 'she-is-my-universe',
		name: 'She is my universe',
		author: 'Madmarcel',
		twitter: 'madmarcel',
		website: '',
		github: 'github.com/madmarcel/js13k2017'
	},
	{
		slug: 'spacewrecked',
		name: 'Spacewrecked',
		author: 'Sorskoot',
		twitter: 'Sorskoot',
		website: 'timmykokke.com',
		github: 'github.com/sorskoot/js13kgames_2017_Lost'
	},
	{
		slug: 'shifted-dimensions',
		name: 'Shifted Dimensions',
		author: 'Nylki',
		twitter: 'nylk',
		website: 'github.com/nylki',
		github: 'github.com/nylki/shifted-dimensions'
	},
	{
		slug: 'wandering-moon',
		name: 'Wandering Moon',
		author: 'Jack Greenberg',
		twitter: 'thprgrmmrjck',
		website: '',
		github: 'github.com/theProgrammerJack/js13k2017'
	},
	{
		slug: 'lost-in-guam',
		name: 'Lost in Guam',
		author: 'Kenneth Banico',
		twitter: 'kjdesigns671',
		website: '',
		github: 'github.com/kbanico/lost-in-guam-vr-game'
	},
	{
		slug: 'balloon-problems',
		name: 'Balloon Problems',
		author: 'Fasility',
		twitter: 'Fasility_VR',
		website: 'fasility.com',
		github: 'github.com/flowerio/balloon-problems'
	},
	{
		slug: 'lost-in-my-mind',
		name: 'Lost in my mind',
		author: 'Lasagne Games',
		twitter: 'Lazyeels',
		website: '',
		github: 'github.com/lazyeels/js13kb'
	},
	{
		slug: 'lost-in-the-forest-dungeon',
		name: 'Lost In The Forest Dungeon',
		author: 'Luke',
		twitter: 'cannl',
		website: 'lc-apps.co.uk',
		github: 'github.com/lcapps-luke/js13k-lost'
	},
	{
		slug: 'galacticdiamond',
		name: 'GalacticDiamond',
		author: 'Mitruska',
		twitter: 'mitruska_',
		website: '',
		github: 'github.com/mitruch/GalacticDiamond-JS13KGames-2017'
	},
	{
		slug: 'cat-meow',
		name: 'Cat Meow',
		author: 'Lislis',
		twitter: '',
		website: '',
		github: 'github.com/lislis/cat-meow'
	},
	{
		slug: 'metamorphosis',
		name: 'Metamorphosis',
		author: 'Steff and Tanyuan',
		twitter: '',
		website: '',
		github: 'github.com/tanyuan/metamorphosis'
	},
	{
		slug: 'a-snake',
		name: 'A-Snake',
		author: 'Nick Frazier',
		twitter: 'nrf',
		website: 'nickfrazier.com',
		github: 'github.com/fraziern/vrsnake'
	},
	{
		slug: 'wherewhat',
		name: 'Where? What?',
		author: '..Katu..',
		twitter: '',
		website: '',
		github: 'github.com/katubrd/LostVR'
	},
	{
		slug: 'dont-let-your-dreams-be-memes',
		name: 'Don\'t let your dreams be memes',
		author: 'Mark Vasilkov',
		twitter: 'mvasilkov',
		website: 'mvasilkov.ovh',
		github: 'github.com/mvasilkov/aframe13k'
	},
	{
		slug: 'fly-south',
		name: 'Fly South',
		author: 'Christian Paul (jaller94)',
		twitter: '',
		website: 'chrpaul.de',
		github: 'github.com/jaller94/fly-south'
	},
	{
		slug: 'prisonri0t',
		name: 'PrisonRi0t',
		author: 'Sondor',
		twitter: '',
		website: '',
		github: 'github.com/gabboraron/prison'
	},
	{
		slug: 'debriss',
		name: 'DebrISS',
		author: 'Kovolmany',
		twitter: '',
		website: '',
		github: 'github.com/gabboraron/iss'
	},
	{
		slug: 'vr-racing',
		name: 'VR Racing',
		author: 'Vedansh Bhartia and Kartikey Pandey',
		twitter: '',
		website: '',
		github: 'github.com/vedanshbhartia/vr_racing'
	},
	{
		slug: 'a-box-invaders',
		name: 'A-box Invaders',
		author: 'Felipe Do E. Santo',
		twitter: 'felipez3r0',
		website: 'hardcodigo.com.br',
		github: 'github.com/felipez3r0/a-box-invaders'
	},
	{
		slug: 'world-lost',
		name: 'World Lost',
		author: 'Ms. K. Bhuvana Meenakshi',
		twitter: 'bhuvanakotees1',
		website: 'bhuvanameenakshik.wixsite.com/bhuvanameenakshi',
		github: 'github.com/bhuvanameenakshi/World_Lost'
	},
	{
		slug: 'give-space',
		name: 'Give Space',
		author: 'Ram',
		twitter: 'ram_gurumukhi',
		website: 'gurumukhi.wordpress.com',
		github: 'github.com/gurumukhi/13kGiveSpaceGame'
	},
	{
		slug: 'lost-in-metaverse',
		name: 'Lost in Metaverse',
		author: 'Karan Ganesan',
		twitter: 'karanganesan',
		website: 'linkedin.com/in/karanganesan',
		github: 'github.com/karanganesan/Lost_in_Metaverse'
	},
	{
		slug: 'emma-3d',
		name: 'Emma-3D',
		author: 'Prateek Roushan',
		twitter: '',
		website: '',
		github: 'github.com/coderprateek/Emma-3D'
	}
];
// Files to cache
var cacheName = 'js13kPWA-v1';
var appShellFiles = [
  '/pwa-examples/js13kpwa/',
  '/pwa-examples/js13kpwa/index.html',
  '/pwa-examples/js13kpwa/app.js',
  '/pwa-examples/js13kpwa/style.css',
  '/pwa-examples/js13kpwa/fonts/graduate.eot',
  '/pwa-examples/js13kpwa/fonts/graduate.ttf',
  '/pwa-examples/js13kpwa/fonts/graduate.woff',
  '/pwa-examples/js13kpwa/favicon.ico',
  '/pwa-examples/js13kpwa/img/js13kgames.png',
  '/pwa-examples/js13kpwa/img/bg.png',
  '/pwa-examples/js13kpwa/icons/icon-32.png',
  '/pwa-examples/js13kpwa/icons/icon-64.png',
  '/pwa-examples/js13kpwa/icons/icon-96.png',
  '/pwa-examples/js13kpwa/icons/icon-128.png',
  '/pwa-examples/js13kpwa/icons/icon-168.png',
  '/pwa-examples/js13kpwa/icons/icon-192.png',
  '/pwa-examples/js13kpwa/icons/icon-256.png',
  '/pwa-examples/js13kpwa/icons/icon-512.png'
];
var gamesImages = [];
for(var i=0; i<games.length; i++) {
  gamesImages.push('data/img/'+games[i].slug+'.jpg');
}
var contentToCache = appShellFiles.concat(gamesImages);

// Installing Service Worker
self.addEventListener('install', function(e) {
  console.log('[Service Worker] Install');
  e.waitUntil(
    caches.open(cacheName).then(function(cache) {
      console.log('[Service Worker] Caching all: app shell and content');
      return cache.addAll(contentToCache);
    })
  );
});

// Fetching content using Service Worker
self.addEventListener('fetch', function(e) {
  e.respondWith(
    caches.match(e.request).then(function(r) {
      console.log('[Service Worker] Fetching resource: '+e.request.url);
      return r || fetch(e.request).then(function(response) {
        return caches.open(cacheName).then(function(cache) {
          console.log('[Service Worker] Caching new resource: ' + e.request.url);
          cache.put(e.request, response.clone());
          return response;
        });
      });
    })
  );
});
